# -*- coding: utf-8 -*-
__author__ = 'sunary'


import re
import itertools
import urllib
from lxml import html


class RegularExpression():

    def __init__(self):
        pass

    def regex_info(self):
        print re.match('.*?([\d\w_\.]+\@[\d\w_\.]+).*', 'dasd sadsad@kadh.com').group(1)

        REGEX_TEL = '.*?((\+\d*\s)?(\(\+?\d+\)\s?)?\d+[\d\s\-]*\d{2,}).*'
        print re.match(REGEX_TEL, '+971 4401954').group(1)
        print re.match(REGEX_TEL, '+1 (416) 868-1079, ext. 225').group(1)
        print re.match(REGEX_TEL, '(+416) 868-1079, ext. 225').group(1)
        print re.match(REGEX_TEL, '(416) 868-1079, ext. 225').group(1)
        print re.match(REGEX_TEL, '+1(416)868-1079, ext. 225').group(1)
        print re.match(REGEX_TEL, '+(416)868-1079, ext. 225').group(1)

        print re.match('.*<b>(.*?)</b>.*', 'fsdfsd<b>fsdf</b>').group(1)

    def check_findall(self):
        print re.findall('<[^<]*?>|\)|\(|\s', '<fs>fdsdad sad sf<gf)d<rter>g>')

    def check_use_function(self):
        def my_replace(match):
            match = match.group()
            return match + str(match.index('e'))

        string = 'The quick @red fox jumps over the @lame brown dog.'
        print re.sub(r'@\w+', my_replace, string)

    def all_url(self, url):
        filter = re.match('.+allacronyms.com/(.+?/).+', url)
        url = url.replace(filter.group(1), '')
        return url

    def filter_url(self, url, filter):
        detail = re.match('.+/(.+?.html)', url)
        url = url[:-len(detail.group(1))] + filter + '/' + detail.group(1)
        return url

    def itertools(self):
        alphabetical = [chr(c + ord('a')) for c in range(26)]
        for li in itertools.combinations_with_replacement(alphabetical, 2):
            print 'http://www.allacronyms.com/aa-index-alpha/' + ''.join(str(c) for c in li)

    def first_page(self, url):
        return re.match('.+/\d+', url)

    def get_index(self, url):
        match = re.match('.+/(\w+)', url)
        return match.group(1).lower()

    def next_page(self, url):
        match = re.match('.+/(\d+)', url)
        return url.replace(match.group(1), str(int(match.group(1)) + 1))

    def extract_html(self, html):
        find_all = re.findall(u'>[^<]+<', html)
        print find_all

    def get_href(self):
        string = '<tbody><tr class="x-grid-header-row"><th class="x-grid-col-resizer-gridcolumn-1039" style="width: 83px; height: 0px;"></th><th class="x-grid-col-resizer-gridcolumn-1040" style="width: 186px; height: 0px;"></th><th class="x-grid-col-resizer-gridcolumn-1041" style="width: 186px; height: 0px;"></th><th class="x-grid-col-resizer-gridcolumn-1042" style="width: 0px; height: 0px;"></th><th class="x-grid-col-resizer-gridcolumn-1043" style="width: 0px; height: 0px;"></th><th class="x-grid-col-resizer-gridcolumn-1044" style="width: 330px; height: 0px;"></th><th class="x-grid-col-resizer-gridcolumn-1045" style="width: 123px; height: 0px;"></th></tr><tr class="x-grid-row "><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">ABF671</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/ABF671/details">CITIC Securities Corporate Finance (HK) Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">中信証券融資(香港)有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">26/F CITIC Tower, 1 Tim Mei Avenue, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">ARE947</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/ARE947/details">CITIC Securities International Investment Management (HK) Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">中信証券國際投資管理(香港)有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">26/F CITIC Tower, 1 Tim Mei Avenue, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row "><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AZV179</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AZV179/details">CLC International Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">創僑國際有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">Room 4703A-4, 47/F, Two Exchange Square, 8 Connaught Place, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AQF520</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AQF520/details">CLC Securities Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">創僑證券有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">Suite 4703, 47/F, Two Exchange Square, 8 Connaught Place, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row "><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AAB893</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AAB893/details">CLSA Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">中信里昂證券有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">18/F One Pacific Place, 88 Queensway, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AVM940</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AVM940/details">CMB International Capital Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">招銀國際融資有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">Room 1803-4, 18/F, Bank of America Tower, 12 Harcourt Road, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row "><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AUZ441</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AUZ441/details">CMB International Securities Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">招銀國際證券有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">Room 1803-4 18/F Bank of America Tower, 12 Harcourt Road, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">ATM582</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/ATM582/details">CNI Securities Group Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">中國北方證券集團有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">10/F, Sun\'s Group Centre, 200 Gloucester Road, Wanchai, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row "><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AHF149</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AHF149/details">COL Securities (HK) Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">聯勝網上證券有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">803-4 Luk Yu Building, 24-26 Stanley Street, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AFD052</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AFD052/details">CSC Futures (HK) Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">群益期貨(香港)有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">32/F Units 3204-07 Cosco Tower, Grand Millennium Plaza, 183 Queen\'s Road Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">ACC324</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/ACC324/details">CSC Securities (HK) Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">群益證券(香港)有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">32/F Units 3204-07 Cosco Tower, Grand Millennium Plaza, 183 Queen\'s Road Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">ARN075</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/ARN075/details">CSOP Asset Management Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">南方東英資產管理有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">2801-2803 Two Exchange Square, 8 Connaught Place, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AJF262</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AJF262/details">CTBC Asia Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">中國信託綜合證券(香港)有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">Suite 2809, 28/F, Two International Finance Centre, 8 Finance Street, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">ABM849</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/ri/ABM849/details">CTBC Bank Co., Ltd.</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">中國信託商業銀行股份有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">Suite 2801 Two International Finance Centre, 8 Finance Street, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row x-grid-row-over"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AGC150</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AGC150/details">CTW Securities Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">卓越證券有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">G/F, 11 Nam Shing Street, Tai Po, New Territories, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AFD202</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AFD202/details">CVC Asia Pacific Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">901-3 ICBC Tower, Citibank Plaza, 3 Garden Road, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">BDU598</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/BDU598/details">CVP Capital Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">28/F Bank of East Asia Harbour View Center, 56 Gloucester Road, Wanchai, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">BEL556</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/BEL556/details">Cachet Asset Management Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">臻卓資產管理有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">Unit 20A, Central 88, 88 Des Voeux  Road Central, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row "><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AZF063</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AZF063/details">Caitong International Securities Co., Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">財通國際證券有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">Room 4811 48/F Cosco Tower, 183 Queen\'s Road Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row  x-grid-row-alt"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AWZ314</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AWZ314/details">Campbell Lutyens Asia Pacific Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">思誠亞太有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">Suite 819 8/F Jardine House, 1 Connaught Road, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr><tr class="x-grid-row"><td class=" x-grid-cell x-grid-cell-gridcolumn-1039   x-grid-cell-first"><div class="x-grid-cell-inner " style="text-align: left; ;">AWF419</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1040   "><div class="x-grid-cell-inner " style="text-align: left; ;"><a href="/publicregWeb/corp/AWF419/details">Canaccord Genuity (Hong Kong) Limited</a></div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1041   "><div class="x-grid-cell-inner " style="text-align: left; ;">加通(香港)有限公司</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1042   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1043   "><div class="x-grid-cell-inner " style="text-align: center; ;">&nbsp;</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1044   "><div class="x-grid-cell-inner " style="text-align: left; ;">5/F, 8 Queen\'s Road, Central, Hong Kong</div></td><td class=" x-grid-cell x-grid-cell-gridcolumn-1045   x-grid-cell-last"><div class="x-grid-cell-inner " style="text-align: center; ;">Yes</div></td></tr></tbody>'
        find_all = re.findall('href="(.+?)"', string)
        print find_all

    def get_description(self):
        string = '<meta name="description" content="The wikinvest user profile page for Paul Raman (PRaman)." />'
        string2 = '<meta name="description" content="I am a sophomore at the University of Pennsylvania, enrolled in the Huntsman Program in International Studies and Business." />'
        match = re.match('.+profile\spage\sfor\s(.+?) \(.+', string)
        find_all = re.findall('.+name=\"description\"\scontent=\"(.+?)\".+', string2)
        print find_all[0]

    def url_detail(self, url = 'http://www.sfc.hk/publicregWeb/corp/AMF238/details'):
        match = re.match('(.+\/)[a-z]+', url)
        return match.group(1) + 'details'

    def root_url(self, url = 'http://www.acronymfinder.com/Military-and-Government/CCHSA.html'):
        match = re.match('.+://([a-zA-Z0-9\.\-_]+)', url)
        return match.group(1)

    def is_url_file(self, url):
        url_image = re.search('\.[a-zA-Z]{2,4}$', url)
        if url_image:
            print url

    def get_parameter(self, pattern, str_input):
        replace_special_characters = {' ': '\s'}
        append_left_slash_characters = '.:-+*?^$&!@#~()[]{}|'
        for key, value in replace_special_characters.iteritems():
            pattern = pattern.replace(key, value)
        for ch in append_left_slash_characters:
            pattern = pattern.replace(ch, '\\' + ch)

        fixed_words = pattern.split('%s')
        values_in_input = []
        for i in range(len(fixed_words) - 1):
            regex_pattern = '^' + '.+?'.join(fixed_words[0:i + 1]) + '(.+?)' + '.+?'.join(fixed_words[i + 1:]) + '$'
            values_in_input.append(re.match(regex_pattern, str_input).group(1))

        return values_in_input


if __name__ == '__main__':
    regular_expression = RegularExpression()
    print regular_expression.get_parameter('select %s from %s', 'select user_id from twitter')
